# Control Flow Graph
The control flow graphs generated by staticfg are located in `./files/cfg/`. 
The script generated the cfg is located at `./cfg_generator.py`

Here are the two CFGs I drew in the format provided in the slide for easier understanding based on the generated CFGs.
Like the CFG in the slide, here the node represent the starting line of the basic block.

### checkout CFG
![checkout-CFG](./files/cfg/control%20flow-checkout.jpg)

### checkout_and_payment CFG
![checkout_and_payment-CFG](./files/cfg/control%20flow-checkout_and_payment.jpg)

# Prime Paths
1. v102,v108,v109,v114,v126,v127,v128. Test1
2. v108,v109,v114,v126,v127,v108. Test2
3. v102,v108,v109,v113. Test3
4. v108,v109,v114,v115,v108. Test4
5. v102,v108,v109,v114,v115,v119,v120,v121,v122. Test5
6. v120,v121,v122,v120. Test5
7. v102,v108,v109,v114,v126,v130,v138. Test6
8. v102,v108,v109,v114,v126,v130,v131,v133. Test7
9. v102,v108,v109,v114,v126,v130,v131,v136. Test8
10. v31,v35,v39. test9

# Test suite
There are no sidetrips or detours in any of the tests. But because the `checkout_and_payment` function has a giant while loop,
test 1 to test 9 all have the 'l' input in the end to serve as the function's exit point.
### Test 1
`test_checkout_and_payment1` test the logout process, the input 'l' means the path taken by the program corresponds to prime path 1.

### Test2
`test_checkout_and_payment2` still test the logout process, but the `logout` function at v127 returns false so the program returns back to v108.

### Test3
`test_checkout_and_payment3` test the display branch with input 'd'.

### Test4
`test_checkout_and_payment4` test not checking out cart with the input 'c' and `checkout` function at v115 returning false.

### Test5
`test_checkout_and_payment5` test two prime paths: path 5 and path 6. It tests the normal check out process.
Prime path 5 cannot be extended to v120 in the end because it cannot have loop inside it. 
Therefore, prime path 6 serves as a dedicated prime path that includes the for loop starting in v120.

### Test6
`test_checkout_and_payment6` test the invalid input process.

### Test7
`test_checkout_and_payment7` test the add product to cart process with the input of a valid product number and a product with units greater than 0.

### Test8
`test_checkout_and_payment8` test the add product to cart process except the product.units is 0.

### Test9
`test_checkout9` test the normal flow for the checkout function with product in the cart and total price smaller than the user.wallet.